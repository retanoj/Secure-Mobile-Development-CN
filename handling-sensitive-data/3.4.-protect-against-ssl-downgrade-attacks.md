# 防止SSL降级攻击 {#protect-against-ssl-downgrade-attacks}

## 细节

使用这种形式的中间人攻击，攻击者可以通过透明地劫持网络上的HTTP流量，监控HTTPS请求，然后消除SSL / TLS来绕过SSL / TLS提供的保护，从而在客户端和服务器之间创建不安全的连接。这种攻击在移动网页应用程序上尤其难以防止（移动网络应用程序本质上是一个看起来像应用程序的网页）。

## 修复

通过TLS传输所有流量，甚至非敏感流量。这可以防止任何可能的降级/剥离攻击，因为攻击者需要一个初始明文“入口点”来完成所述攻击。

验证SSL / TLS是否活动。在原生应用程序中验证SSL / TLS相对简单。移动网络应用程序可以通过JavaScript验证SSL / TLS，如果未检测到HTTPS连接，则客户端将重定向到HTTPS。要求SSL / TLS的更可靠的手段是HTTP严格传输安全（HSTS）头。HSTS头部强制与该域的所有后续连接使用TLS和原始证书。浏览器只是开始实现HSTS标题，移动浏览器支持滞后。

避免在应用程序中使用图标或语言，以确保用户在安全连接时不依赖于已验证的HTTPS会话。用户教育是降低SSL / TLS降级攻击风险的重要组成部分。在应用程序中使用警报和文本来强化用户使用HTTPS保护网络流量的重要性。

Android和iOS中最近推出的另一个缓解措施是将非TLS /明文流量视为开发者错误。Android最近添加了`android:usesCleartextTraffic`（[Android M和Cleartext Traffic War](https://translate.googleusercontent.com/translate_c?act=url&depth=1&hl=zh-CN&ie=UTF8&prev=_t&rurl=translate.google.com&sl=en&sp=nmt4&tl=zh-CN&u=https://koz.io/android-m-and-the-war-on-cleartext-traffic/&usg=ALkJrhhoRUIC1s5rIVpJlOgrcIbPOWTTNw)-[https://koz.io/android-m-and-the-war-on-cleartext-traffic/），iOS](https://translate.googleusercontent.com/translate_c?act=url&depth=1&hl=zh-CN&ie=UTF8&prev=_t&rurl=translate.google.com&sl=en&sp=nmt4&tl=zh-CN&u=https://koz.io/android-m-and-the-war-on-cleartext-traffic/&usg=ALkJrhhoRUIC1s5rIVpJlOgrcIbPOWTTNw)9及以上版本要求您手动添加明文流量的例外。替换Web协议HTTP / 2是另一个未来的缓解，因为它仅使用TLS（并包括其他功能）。

## 参考



